window.algorithms={};var __generator=this&&this.__generator||function(e,r){var t,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e],o=0}finally{t=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};!function(e){var r=function(){function e(){}return e.isEqualTo=function(e,r){return e==r},e.isLessThan=function(e,r){return e.compareTo(r)<0},e}();e.Comparers=r}(algorithms||(algorithms={})),function(e){var r=function(){function r(r){this.maxLevel=32,this.probability=.5,this._type=r,this._count=0,this._currentMaxLevel=1,this._firstNode=new e.SkipListNode(new r,this.maxLevel);for(var t=0;t<this.maxLevel;++t)this._firstNode.forwards[t]=this._firstNode}return r.prototype._getNextLevel=function(){for(var e=0;Math.random()<this.probability&&e<=this._currentMaxLevel&&e<this.maxLevel;)++e;return e},Object.defineProperty(r.prototype,"root",{get:function(){return this._firstNode},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0==this._count},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"level",{get:function(){return this._currentMaxLevel},enumerable:!0,configurable:!0}),r.prototype.add=function(r){for(var t=this._firstNode,o=new Array(this.maxLevel),n=this._currentMaxLevel-1;n>=0;--n){for(;t.forwards[n]!=this._firstNode&&e.Comparers.isLessThan(t.forwards[n].value,r);)t=t.forwards[n];o[n]=t}t=t.forwards[0];var i=this._getNextLevel();if(i>this._currentMaxLevel){for(n=this._currentMaxLevel;n<i;++n)o[n]=this._firstNode;this._currentMaxLevel=i}var s=new e.SkipListNode(r,i);for(n=0;n<i;++n)s.forwards[n]=o[n].forwards[n],o[n].forwards[n]=s;++this._count},r.prototype.remove=function(r){for(var t=this._firstNode,o=new Array(this.maxLevel),n=this._currentMaxLevel-1;n>=0;--n){for(;t.forwards[n]!=this._firstNode&&e.Comparers.isLessThan(t.forwards[n].value,r);)t=t.forwards[n];o[n]=t}if(t=t.forwards[0],0==e.Comparers.isEqualTo(t.value,r))return{result:!1,deleted:new this._type};for(n=0;n<this._currentMaxLevel;++n)o[n].forwards[n]==t&&(o[n].forwards[n]=t.forwards[n]);for(--this._count;this._currentMaxLevel>1&&this._firstNode.forwards[this._currentMaxLevel-1]==this._firstNode;)--this._currentMaxLevel;return{result:!0,deleted:t.value}},r.prototype.contains=function(e){return this.find(e).contains},r.prototype.find=function(r){for(var t=this._firstNode,o=this._currentMaxLevel-1;o>=0;--o)for(;t.forwards[o]!=this._firstNode&&e.Comparers.isLessThan(t.forwards[o].value,r);)t=t.forwards[o];return t=t.forwards[0],e.Comparers.isEqualTo(t.value,r)?{contains:!0,itemOut:t.value}:{contains:!1,itemOut:new this._type}},r.prototype.deleteMin=function(){var e,r=this.tryDeleteMin();if(e=r.result,!r.delete)throw new Error("skipList is empty");return e},r.prototype.tryDeleteMin=function(){if(this.isEmpty)return{delete:!1,result:new this._type};var e=this.remove(this._firstNode.forwards[0].value);return{delete:e.result,result:e.deleted}},r.prototype.peek=function(){var e,r=this.tryPeek();if(e=r.result,!r.peek)throw new Error("skipList is empty");return e},r.prototype.tryPeek=function(){return this.isEmpty?{peek:!1,result:new this._type}:{peek:!0,result:this._firstNode.forwards[0].value}},r.prototype.getEnumerator=function(){var e;return __generator(this,function(r){switch(r.label){case 0:e=this._firstNode,r.label=1;case 1:return null==e.forwards[0]||e.forwards[0]==this._firstNode?[3,3]:[4,(e=e.forwards[0]).value];case 2:return r.sent(),[3,1];case 3:return[2]}})},r.prototype.copyTo=function(e,r){if(null==e)throw new Error("argument is null");if(0==e.length||r>=e.length||r<0)throw new Error("index out of range");for(var t=this.getEnumerator(),o=r;o<e.length;++o){var n=t.next();if(n.done)break;e[o]=n.value}},r.prototype.clear=function(){this._count=0,this._currentMaxLevel=1,this._firstNode=new e.SkipListNode(new this._type,this.maxLevel);for(var r=0;r<this.maxLevel;++r)this._firstNode.forwards[r]=this._firstNode},r}();e.SkipList=r}(algorithms||(algorithms={})),function(e){var r=function(){function e(e,r){if(r<0)throw new Error("Invalid value for level");this._value=e,this._forwards=new Array(r)}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forwards",{get:function(){return this._forwards},set:function(e){this._forwards=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.forwards.length},enumerable:!0,configurable:!0}),e.prototype.compareTo=function(e){return null==e?-1:this.value.compareTo(e.value)},e}();e.SkipListNode=r}(algorithms||(algorithms={}));